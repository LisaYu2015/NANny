<!--
  Generated template for the OnechatPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-navbar color="dark">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title> {{chat.year}} {{chat.make}} {{chat.model}} </ion-title>
    <ion-buttons end>
      <button ion-button (click)="logout()">
          <ion-icon name="log-out"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content #content>
  <ion-item>
    <p>Error codes: {{chat.error}}</p>
    <p>Symptoms: {{chat.symptoms}}</p>
  </ion-item> 

  <!-- <p *ngIf="ng.isundefined(disc)"> No messages in this thread </p> -->

  <ion-list no-lines class="messages-wrapper">
    <ion-row *ngFor="let d of disc">
    <ion-item>
      <button item-end ion-button round small style="text-transform: none;" *ngIf="d.author==currentuser._id" class="message to">{{d.comment}}</button>
      <button ion-button round small style="text-transform: none;" *ngIf="d.author!=currentuser._id" class="message from">{{d.comment}}</button>
      </ion-item>
    </ion-row>
  </ion-list>

  	
</ion-content>

<ion-footer>
    <form (ngSubmit)="addcomment()" #newcommentform="ngForm">
      <ion-row>
          <ion-textarea name="ncomment" placeholder="Comment..." [(ngModel)]="ncomment"></ion-textarea>
          <button ion-button clear item-end type="submit"><ion-icon name="send"></ion-icon></button>
      </ion-row>
    </form>
</ion-footer>
